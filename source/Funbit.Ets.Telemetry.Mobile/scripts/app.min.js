var Funbit;if(function(n){(function(t){(function(t){var i=function(){function i(){this.anticacheSeed=0;this.skinConfig=t.Configuration.getInstance().getSkinConfiguration();this.initializeViewport();this.loadDashboardResources()}return i.prototype.initializeViewport=function(){var s=/Trident/.test(navigator.userAgent),h=/Firefox/i.test(navigator.userAgent),c=/iPhone|iPad|iPod/i.test(navigator.userAgent),r=this.skinConfig.width*1,u=this.skinConfig.height*1,f=$(window).width(),e=$(window).height(),o=e/u,i,n;e/u>f/r&&(o=f/r);i="scale("+o*.99+")";n=$("body");n.css("transform",i);h?n.css("-moz-transform",i):s?n.css("-ms-transform",i):n.css("-webkit-transform",i);$(document).add(n).on("click",function(){window.history.back()});$(window).on("orientationchange",function(){window.location.reload()});c&&!t.Configuration.isCordovaAvailable()&&setInterval(function(){window.location.href="/";window.setTimeout(function(){window.stop()},0)},3e4)},i.prototype.loadDashboardResources=function(){var n=this,i=t.Configuration.getUrl("/skins/"+this.skinConfig.name+"/dashboard.css?seed="+this.anticacheSeed++),r=t.Configuration.getUrl("/skins/"+this.skinConfig.name+"/dashboard.html?seed="+this.anticacheSeed++);$("head link[rel='stylesheet']").last().after('<link rel="stylesheet" href="'+i+'" type="text/css">');$.ajax({url:r,async:!1,dataType:"html",timeout:5e3}).done(function(n){$("body").append(n)}).fail(function(){alert("Failed to load dashboard.html for skin: "+n.skinConfig.name)})},i.prototype.connectDashboard=function(){this.dashboard||(this.dashboard=new n.Ets.Telemetry.Dashboard(t.Configuration.getUrl("/api/ets2/telemetry"),this.skinConfig))},i}();t.App=i})(t.Telemetry||(t.Telemetry={}));var i=t.Telemetry})(n.Ets||(n.Ets={}));var t=n.Ets}(Funbit||(Funbit={})),Funbit.Ets.Telemetry.Configuration.isCordovaAvailable())$(document).on("deviceready",function(){(new Funbit.Ets.Telemetry.App).connectDashboard()});else(new Funbit.Ets.Telemetry.App).connectDashboard();
//# sourceMappingURL=app.min.js.map
