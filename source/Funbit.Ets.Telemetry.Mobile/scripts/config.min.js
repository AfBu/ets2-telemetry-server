var Funbit;(function(n){(function(n){(function(n){var t=function(){function n(){var r=this,t,i;this.skins=[];this.serverIp="";n.isCordovaAvailable()?(t=window.plugins,this.insomnia=t.insomnia,this.prefs=t.appPreferences,this.insomnia.keepAwake(),this.prefs.fetch(function(n){r.serverIp=n},function(){},"serverIp")):(this.serverIp=window.location.hostname,this.insomnia={keepAwake:function(){}},this.prefs={fetch:function(){},store:function(){}});i=n.getParameter("ip");i&&(this.serverIp=i)}return n.getInstance=function(){return n.instance||(n.instance=new n,n.instance.reload(n.instance.serverIp)),n.instance},n.getParameter=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t==null?"":decodeURIComponent(t[1].replace(/\+/g," "))},n.prototype.getSkinConfiguration=function(){var i=n.getParameter("skin"),t;if(i)for(t=0;t<this.skins.length;t++)if(this.skins[t].name==i)return this.skins[t];return null},n.prototype.reload=function(n,t,i){var r=this,u;return(typeof t=="undefined"&&(t=null),typeof i=="undefined"&&(i=null),!this.serverIp)?!1:(this.serverIp=n,u=!0,$.ajax({url:this.getUrlInternal("/config.json"),async:t!=null,cache:!0,dataType:"json",timeout:3e3}).done(function(n){r.prefs.store(function(){},function(){},"serverIp",r.serverIp);r.skins=n.skins;t&&t()}).fail(function(){r.skins=[];u=!1;i&&i()}),u)},n.isCordovaAvailable=function(){return document.URL.indexOf("http://")===-1&&document.URL.indexOf("https://")===-1},n.prototype.getUrlInternal=function(n){return"http://"+this.serverIp+":25555"+n},n.getUrl=function(t){return n.getInstance().getUrlInternal(t)},n}();n.Configuration=t})(n.Telemetry||(n.Telemetry={}));var t=n.Telemetry})(n.Ets||(n.Ets={}));var t=n.Ets})(Funbit||(Funbit={}));
//# sourceMappingURL=config.min.js.map
