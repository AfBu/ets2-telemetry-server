var Funbit;if(function(n){(function(n){(function(n){var t=function(){function t(){var t=this;this.config=n.Configuration.getInstance();this.initializeEvents();this.buildSkinTable([]);$.when(this.config.initialized).done(function(n){n.serverIp?t.connectToServer(n.serverIp):t.promptServerIp()})}return t.prototype.buildSkinTable=function(n){var i=$("table.skins"),u,r,t;if(i.empty(),n.length==0)i.append(doT.template($("#skin-empty-row-template").html())({}));else{for(u=doT.template($("#skin-row-template").html()),r="",t=0;t<n.length;t++)r+=u(n[t]);i.append(r)}},t.prototype.connectToServer=function(n){var t=this,i;n&&(i=$(".server-status"),i.removeClass("connected").addClass("disconnected").html("Connecting..."),$(".server-ip").html(n),this.buildSkinTable([]),this.config.reload(n,function(){i.removeClass("disconnected").addClass("connected").html("Connected");t.buildSkinTable(t.config.skins)},function(){i.removeClass("connected").addClass("disconnected").html("Disconnected");t.buildSkinTable(t.config.skins)}))},t.prototype.promptServerIp=function(){var n=prompt("Please enter server IP address (aa.bb.cc.dd)",this.config.serverIp),t=/^[a-zA-Z0-9\.\-]+$/.test(n);t?this.connectToServer(n):alert("Entered server IP or hostname has incorrect format.")},t.prototype.initializeEvents=function(){var n=this;$(document).on("click","td.skin-image,td.skin-desc",function(t){var i=$(t.currentTarget),r=i.closest("tr").data("name");window.location.href="dashboard-host.html?skin="+r+"&ip="+n.config.serverIp});$(".edit-server-ip").click(function(){n.promptServerIp()})},t}();n.Menu=t})(n.Telemetry||(n.Telemetry={}));var t=n.Telemetry})(n.Ets||(n.Ets={}));var t=n.Ets}(Funbit||(Funbit={})),Funbit.Ets.Telemetry.Configuration.isCordovaAvailable())$(document).on("deviceready",function(){new Funbit.Ets.Telemetry.Menu});else new Funbit.Ets.Telemetry.Menu;
//# sourceMappingURL=menu.min.js.map
